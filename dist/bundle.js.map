{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://cardgame/./src/index.ts"],"sourcesContent":["import './css/style.css'\n\nconst LOW_LEVEL_CARDS_PAIRS = 3\nconst MID_LEVEL_CARDS_PAIRS = 6\nconst HIGH_LEVEL_CARDS_PAIRS = 9\nconst LOW_LEVEL = 1\nconst MID_LEVEL = 2\nconst HIGH_LEVEL = 3\n\nconst screen: any = document.querySelector('.screen')\nconst levelButtons: any = document.querySelectorAll('.level-button')\nconst startButton: any = document.querySelector('.start-button')\n\ntype Cards = { name: string; imagePath: string }\ntype Card = { dataset: { name: string } }\n\nlet level: number\nlet cardsPairs: number\nlet cardsPack: Cards[] = []\nconst shirt = './img/shirt.jpg'\nlet hasFlippedCard: boolean = false\nlet firstCard: Card | any, secondCard: Card | any\nlet score = 0\nlet totalTime: string\nconst winImg = './img/winImg.png'\nconst loseImg = './img/loseImg.png'\n\nlevelButtons.forEach((levelButton: HTMLButtonElement) => {\n    levelButton.addEventListener('click', () => {\n        startButton.disabled = false\n        level = Number(levelButton.value)\n        if (levelButton.value === '1') {\n            cardsPairs = LOW_LEVEL_CARDS_PAIRS\n            levelButtons[0].classList.add('level-button-active')\n            levelButtons[1].classList.remove('level-button-active')\n            levelButtons[2].classList.remove('level-button-active')\n        }\n        if (levelButton.value === '2') {\n            cardsPairs = MID_LEVEL_CARDS_PAIRS\n            levelButtons[1].classList.add('level-button-active')\n            levelButtons[0].classList.remove('level-button-active')\n            levelButtons[2].classList.remove('level-button-active')\n        }\n        if (levelButton.value === '3') {\n            cardsPairs = HIGH_LEVEL_CARDS_PAIRS\n            levelButtons[2].classList.add('level-button-active')\n            levelButtons[0].classList.remove('level-button-active')\n            levelButtons[1].classList.remove('level-button-active')\n        }\n        console.log(cardsPairs)\n    })\n})\n\nstartButton.addEventListener('click', () => {\n    screen.textContent = ''\n    const container = document.createElement('container')\n    container.classList.add('container')\n    screen.appendChild(container)\n    const header = document.createElement('header')\n    header.classList.add('header')\n    container.appendChild(header)\n    const timer = document.createElement('div')\n    timer.classList.add('timer')\n    header.appendChild(timer)\n    const minutes = document.createElement('p')\n    minutes.classList.add('min')\n    minutes.textContent = 'min'\n    const seconds = document.createElement('p')\n    seconds.classList.add('sec')\n    seconds.textContent = 'sec'\n    const time = document.createElement('p')\n    time.classList.add('time')\n    time.textContent = '00.00'\n    timer.appendChild(minutes)\n    timer.appendChild(seconds)\n    timer.appendChild(time)\n    const button = document.createElement('button')\n    button.classList.add('repeat-button')\n    button.textContent = 'Начать заново'\n    header.appendChild(button)\n    const field = document.createElement('div')\n    field.classList.add('cards-field')\n    container.appendChild(field)\n\n    let sec = 0\n    let min = 0\n    let t: string | number | NodeJS.Timeout | undefined\n\n    function tick() {\n        sec++\n        if (sec >= 60) {\n            sec = 0\n            min++\n        }\n    }\n\n    function add() {\n        tick()\n        time.textContent =\n            (min > 9 ? min : '0' + min) + '.' + (sec > 9 ? sec : '0' + sec)\n        start()\n        totalTime = time.textContent\n    }\n\n    function start() {\n        t = setTimeout(add, 1000)\n    }\n\n    setTimeout(start, 5000)\n\n    button.addEventListener('click', () => {\n        window.location.reload()\n    })\n\n    generateField()\n\n    function cardsFieldTemplate(cards: Cards) {\n        const result = document.createElement('div')\n        result.classList.add('card', 'flip')\n        result.setAttribute('data-name', cards.name)\n        const frontFace = document.createElement('img')\n        frontFace.classList.add('front-face')\n        frontFace.setAttribute('src', cards.imagePath)\n        const backFace = document.createElement('img')\n        backFace.classList.add('back-face')\n        backFace.setAttribute('src', shirt)\n        result.appendChild(frontFace)\n        result.appendChild(backFace)\n        return result\n    }\n\n    const fragment = document.createDocumentFragment()\n\n    cardsPack.forEach((cards) => {\n        const cardCell = cardsFieldTemplate(cards)\n        fragment.appendChild(cardCell)\n    })\n\n    field.appendChild(fragment)\n\n    const cards = document.querySelectorAll('.card')\n\n    function flipCard(this: any) {\n        this.classList.add('flip')\n\n        if (!hasFlippedCard) {\n            hasFlippedCard = true\n            firstCard = this\n            return\n        }\n\n        secondCard = this\n        hasFlippedCard = false\n\n        checkForMatch()\n    }\n\n    function checkForMatch() {\n        if (firstCard.dataset.name === secondCard.dataset.name) {\n            score++\n            console.log(score)\n            if (score === cardsPairs) {\n                clearTimeout(t)\n                setTimeout(function () {\n                    renderFinalScreen(winImg, 'Вы выиграли!')\n                }, 300)\n            }\n        } else {\n            clearTimeout(t)\n            setTimeout(function () {\n                renderFinalScreen(loseImg, 'Вы проиграли!')\n            }, 300)\n        }\n    }\n\n    cards.forEach((card) => {\n        if (card.classList.contains('flip')) {\n            setTimeout(function () {\n                card.classList.remove('flip')\n            }, 5000)\n        }\n        card.addEventListener('click', () => {\n            card.classList.add('flip')\n\n            if (!hasFlippedCard) {\n                hasFlippedCard = true\n                firstCard = card\n                return\n            }\n            secondCard = card\n            hasFlippedCard = false\n\n            checkForMatch()\n        })\n    })\n})\n\nconst cardsArr = [\n    {\n        name: 'six-clubs',\n        imagePath: './img/6clubs.jpg',\n    },\n    {\n        name: 'seven-clubs',\n        imagePath: './img/7clubs.jpg',\n    },\n    {\n        name: 'eight-clubs',\n        imagePath: './img/8clubs.jpg',\n    },\n    {\n        name: 'nine-clubs',\n        imagePath: './img/9clubs.jpg',\n    },\n    {\n        name: 'ten-clubs',\n        imagePath: './img/10clubs.jpg',\n    },\n    {\n        name: 'jack-clubs',\n        imagePath: './img/jackClubs.jpg',\n    },\n    {\n        name: 'queen-clubs',\n        imagePath: './img/queenClubs.jpg',\n    },\n    {\n        name: 'king-clubs',\n        imagePath: './img/kingClubs.jpg',\n    },\n    {\n        name: 'ace-clubs',\n        imagePath: './img/aceClubs.jpg',\n    },\n    {\n        name: 'six-diamonds',\n        imagePath: './img/8diamonds.jpg',\n    },\n    {\n        name: 'seven-diamonds',\n        imagePath: './img/7diamonds.jpg',\n    },\n    {\n        name: 'eight-diamonds',\n        imagePath: './img/8diamonds.jpg',\n    },\n    {\n        name: 'nine-diamonds',\n        imagePath: './img/9diamonds.jpg',\n    },\n    {\n        name: 'ten-diamonds',\n        imagePath: './img/10diamonds.jpg',\n    },\n    {\n        name: 'jack-diamonds',\n        imagePath: './img/jackDiamonds.jpg',\n    },\n    {\n        name: 'queen-diamonds',\n        imagePath: './img/queenDiamonds.jpg',\n    },\n    {\n        name: 'king-diamonds',\n        imagePath: './img/kingDiamonds.jpg',\n    },\n    {\n        name: 'ace-diamonds',\n        imagePath: './img/aceDiamonds.jpg',\n    },\n    {\n        name: 'six-hearts',\n        imagePath: './img/6hearts.jpg',\n    },\n    {\n        name: 'seven-hearts',\n        imagePath: './img/7hearts.jpg',\n    },\n    {\n        name: 'eight-hearts',\n        imagePath: './img/8hearts.jpg',\n    },\n    {\n        name: 'nine-hearts',\n        imagePath: './img/9hearts.jpg',\n    },\n    {\n        name: 'ten-hearts',\n        imagePath: './img/10hearts.jpg',\n    },\n    {\n        name: 'jack-hearts',\n        imagePath: './img/jackHearts.jpg',\n    },\n    {\n        name: 'queen-hearts',\n        imagePath: './img/queenHearts.jpg',\n    },\n    {\n        name: 'king-hearts',\n        imagePath: './img/kingHearts.jpg',\n    },\n    {\n        name: 'ace-hearts',\n        imagePath: './img/aceHearts.jpg',\n    },\n    {\n        name: 'six-spades',\n        imagePath: './img/6spades.jpg',\n    },\n    {\n        name: 'seven-spades',\n        imagePath: './img/7spades.jpg',\n    },\n    {\n        name: 'eight-spades',\n        imagePath: './img/8spades.jpg',\n    },\n    {\n        name: 'nine-spades',\n        imagePath: './img/9spades.jpg',\n    },\n    {\n        name: 'ten-spades',\n        imagePath: './img/10spades.jpg',\n    },\n    {\n        name: 'jack-spades',\n        imagePath: './img/jackSpades.jpg',\n    },\n    {\n        name: 'queen-spades',\n        imagePath: './img/queenSpades.jpg',\n    },\n    {\n        name: 'king-spades',\n        imagePath: './img/kingSpades.jpg',\n    },\n    {\n        name: 'ace-spades',\n        imagePath: './img/aceSpades.jpg',\n    },\n]\n\nfunction generateField() {\n    let fieldLength = 0\n    const totalCards = cardsArr.length\n    if (level === LOW_LEVEL) {\n        fieldLength = 6\n    }\n    if (level === MID_LEVEL) {\n        fieldLength = 12\n    }\n    if (level === HIGH_LEVEL) {\n        fieldLength = 18\n    }\n    let i = 0\n    while (i < fieldLength / 2) {\n        let randomIndex = getRandomInt(totalCards)\n        if (!cardsPack.includes(cardsArr[randomIndex])) {\n            cardsPack.push(cardsArr[randomIndex])\n            cardsPack.push(cardsArr[randomIndex])\n            i++\n        }\n    }\n    cardsPack.sort(function () {\n        return 0.5 - Math.random()\n    })\n    console.log(cardsPack)\n}\n\nfunction getRandomInt(max: number) {\n    return Math.floor(Math.random() * max)\n}\n\nfunction renderFinalScreen(img: string, text: string) {\n    const finalScreen = document.createElement('div')\n    finalScreen.classList.add('final-screen')\n    screen.appendChild(finalScreen)\n\n    const finalBlock = document.createElement('div')\n    finalBlock.classList.add('difficulty-level')\n    finalScreen.appendChild(finalBlock)\n\n    const finalImg = document.createElement('img')\n    finalImg.setAttribute('src', img)\n    finalImg.classList.add('final-img')\n    finalBlock.appendChild(finalImg)\n\n    const finalTitle = document.createElement('h2')\n    finalTitle.classList.add('final-title')\n    finalTitle.textContent = text\n    finalBlock.appendChild(finalTitle)\n\n    const elapsedTime = document.createElement('p')\n    elapsedTime.classList.add('elapsed-time')\n    elapsedTime.textContent = 'Затраченное время:'\n    finalBlock.appendChild(elapsedTime)\n\n    const finalTime = document.createElement('h1')\n    finalTime.classList.add('final-time')\n    finalTime.textContent = totalTime\n    finalBlock.appendChild(finalTime)\n\n    const finalButton = document.createElement('button')\n    finalButton.classList.add('final-button')\n    finalButton.textContent = 'Играть снова'\n    finalBlock.appendChild(finalButton)\n\n    finalButton.addEventListener('click', () => {\n        document.location.reload()\n    })\n\n    return finalScreen\n}\n"],"names":["level","cardsPairs","firstCard","secondCard","totalTime","screen","document","querySelector","levelButtons","querySelectorAll","startButton","cardsPack","hasFlippedCard","score","forEach","levelButton","addEventListener","disabled","Number","value","classList","add","remove","console","log","textContent","container","createElement","appendChild","header","timer","minutes","seconds","time","button","field","t","sec","min","start","setTimeout","window","location","reload","fieldLength","totalCards","cardsArr","length","max","i","randomIndex","Math","floor","random","includes","push","sort","generateField","fragment","createDocumentFragment","cards","cardCell","result","setAttribute","name","frontFace","imagePath","backFace","cardsFieldTemplate","card","contains","dataset","clearTimeout","renderFinalScreen","img","text","finalScreen","finalBlock","finalImg","finalTitle","elapsedTime","finalTime","finalButton"],"sourceRoot":""}